<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scratch Klonu</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/phaser/dist/phaser.min.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <h1>Scratch Klonu</h1>
    <div id="blocklyDiv" style="height: 500px; width: 600px;"></div>
    <div id="gameDiv" style="height: 400px; width: 600px;"></div>
    <button onclick="exportCode()">Kodu Dışa Aktar</button>
    <pre id="codeOutput"></pre>
    <script>
        // Blockly yapılandırması
        function initBlockly() {
            Blockly.inject('blocklyDiv', {
                toolbox: `
                    <xml xmlns="http://www.w3.org/1999/xhtml">
                        <!-- Scratch benzeri bloklar ekleyebilirsin -->
                        <block type="controls_if"></block>
                        <block type="controls_repeat_ext"></block>
                        <block type="logic_compare"></block>
                        <block type="math_number"></block>
                    </xml>`,
                trashcan: true
            });
        }

        // Kodu dışa aktarma işlevi
        function exportCode() {
            const code = Blockly.JavaScript.workspaceToCode(Blockly.getMainWorkspace());
            document.getElementById('codeOutput').textContent = code;
        }

        // Phaser ile basit bir oyun sahnesi
        function initPhaser() {
            const config = {
                type: Phaser.AUTO,
                width: 600,
                height: 400,
                parent: 'gameDiv',
                scene: {
                    preload: preload,
                    create: create,
                    update: update
                }
            };
            const game = new Phaser.Game(config);

            function preload() {
                this.load.image('sprite', 'path/to/sprite.png');
            }

            function create() {
                this.add.sprite(100, 100, 'sprite');
            }

            function update() {
                // Oyun güncellemeleri buraya
            }
        }

        // Başlangıç
        window.onload = function() {
            initBlockly();
            initPhaser();
        };
    </script>
</body>
</html>